(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{1155:function(e,t,a){"use strict";var i=a(0),n=a.n(i),r=a(506),s=a(769),o=a.n(s),c=a(1958),l=a(123),p=a(508),d=a(17),u=a.n(d),h=a(517),m=a(614),g=a(1507);const f=Object(r.a)(e=>({suppressLinkStyles:{textDecoration:"none",color:e.palette.text.disabled},thumbButton:{position:"absolute",left:0,right:0,top:0,bottom:0,display:"flex",alignItems:"center",justifyContent:"center",color:e.palette.common.white},thumbBackdrop:{position:"absolute",left:0,right:0,top:0,bottom:0,backgroundColor:e.palette.common.black,opacity:.4},thumb:{"&:hover":{zIndex:1,"& $thumbBackdrop":{opacity:.2}}},media:{objectFit:"cover"}})),y=window.URL||window.webkitURL,P=e=>{const{api:t,width:a,height:r,thumbnail:s,selectedIcon:d,color:u,backgroundIndex:P,category:b,isEditable:I,onClick:E}=e,{apiType:A,id:v,type:w}=t,T=f(),[_,S]=Object(i.useState)({}),{selectedIcon:O,color:C,backgroundIndex:M,category:D}=_,[x,R]=Object(i.useState)(null),[N,L]=Object(i.useState)(!1);if(Object(i.useEffect)(()=>{S({selectedIcon:d,color:u,backgroundIndex:P,category:b})},[d,u,P,b]),Object(i.useEffect)(()=>{R(s)},[s]),Object(i.useEffect)(()=>{if("DOC"!==w){(A===h.a.CONSTS.APIProduct?(new m.a).getAPIProductThumbnail(v):(new h.a).getAPIThumbnail(v)).then(e=>{if(e&&e.data)if("application/json"===e.headers["content-type"])S(JSON.parse(e.data));else if(e&&e.data.size>0){const t=y.createObjectURL(e.data);R(t)}}).finally(()=>{L(!0)})}},[]),!N)return n.a.createElement("div",{className:"image-load-frame"},n.a.createElement("div",{className:"image-load-animation1"}),n.a.createElement("div",{className:"image-load-animation2"}));let q="";q=A?A===h.a.CONSTS.APIProduct?"/api-products/".concat(t.id,"/overview"):"/apis/".concat(t.id,"/overview"):"/apis/".concat(t.apiUUID,"/documents/").concat(t.id,"/details");const k=x?n.a.createElement("img",{height:r,width:a,src:x,alt:"API Thumbnail",className:T.media}):n.a.createElement(g.a,{width:a,height:r,api:t,fixedIcon:{key:O,color:C,backgroundIndex:M,category:D,api:t}});return n.a.createElement(n.a.Fragment,null,I?n.a.createElement(c.a,{focusRipple:!0,className:T.thumb,onClick:E},k,n.a.createElement("span",{className:T.thumbBackdrop}),n.a.createElement("span",{className:T.thumbButton},n.a.createElement(p.a,{component:"span",variant:"subtitle1",color:"inherit"},n.a.createElement(o.a,null)))):n.a.createElement(l.b,{className:T.suppressLinkStyles,to:q},k))};P.defaultProps={height:190,width:250,isEditable:!1},P.propTypes={api:u.a.shape({}).isRequired,height:u.a.number,width:u.a.number,isEditable:u.a.bool},t.a=P},1506:function(e,t,a){"use strict";var i=a(0),n=a.n(i),r=a(1411),s=a(1416),o=a(1417),c=a(1419),l=a(1434),p=a(1318),d=a(508),u=a(727),h=a.n(u),m=a(1444),g=a(17),f=a.n(g),y=a(53),P=a(52),b=a(517),I=a(897),E=a(529),A=a(694),v=a(13);class w extends n.a.Component{constructor(e){super(e),this.handleApiDelete=this.handleApiDelete.bind(this),this.handleRequestClose=this.handleRequestClose.bind(this),this.handleRequestOpen=this.handleRequestOpen.bind(this),this.state={openMenu:!1}}handleRequestClose(){this.setState({openMenu:!1})}handleRequestOpen(){this.setState({openMenu:!0})}handleApiDelete(){const{api:e,history:t}=this.props;e.apiType===b.a.CONSTS.APIProduct?b.a.deleteProduct(e.id).then(a=>{if(200!==a.status)return console.log(a),void E.a.error("Something went wrong while deleting the API Product!");E.a.success("API Product "+e.name+" was deleted successfully!"),t.push("/api-products")}).catch(t=>{409===t.status?E.a.error("[ "+e.name+" ] : "+t.response.body.description):E.a.error("Something went wrong while deleting the API Product!")}):e.delete().then(a=>{if(200!==a.status)return console.log(a),void E.a.error("Something went wrong while deleting the API!");E.a.success("API "+e.name+" was deleted successfully!"),t.push("/apis")}).catch(t=>{409===t.status?E.a.error("[ "+e.name+" ] : "+t.response.body.description):E.a.error("Something went wrong while deleting the API!")})}render(){const{api:e,onClick:t,classes:a}=this.props,i=e.apiType===b.a.CONSTS.APIProduct?"API Product ":"API ",u=e.apiType===b.a.CONSTS.APIProduct?null:"-"+e.version,g=t||this.handleApiDelete;let f=I.c.SINGLE_API;return e.apiType===b.a.CONSTS.APIProduct&&(f=I.c.SINGLE_API_PRODUCT),n.a.createElement(n.a.Fragment,null,n.a.createElement(I.a,{resourceMethod:I.b.DELETE,resourcePath:f},n.a.createElement("div",{className:a.deleteWrapper},n.a.createElement(A.a,{height:70}),n.a.createElement("a",{id:"itest-id-deleteapi-icon-button",onClick:this.handleRequestOpen,onKeyDown:this.handleRequestOpen,className:a.delete},n.a.createElement("div",null,n.a.createElement(h.a,null)),n.a.createElement(d.a,{variant:"caption"},n.a.createElement(v.a,{id:"Apis.Details.components.DeleteApiButton.delete",defaultMessage:"Delete"}))))),n.a.createElement(r.a,{open:this.state.openMenu,transition:m.a},n.a.createElement(s.a,null,n.a.createElement(v.a,{id:"Apis.Details.components.DeleteApiButton.title",defaultMessage:"Delete {type}",values:{type:i}})),n.a.createElement(o.a,null,n.a.createElement(c.a,null,n.a.createElement(v.a,{id:"Apis.Details.components.DeleteApiButton.text.description",defaultMessage:"{type} <b> {name} {version} </b> will be deleted permanently.",values:{b:e=>n.a.createElement("b",null,e),type:i,name:e.name,version:u}}))),n.a.createElement(l.a,null,n.a.createElement(p.a,{dense:!0,onClick:this.handleRequestClose},n.a.createElement(v.a,{id:"Apis.Details.components.DeleteApiButton.button.cancel",defaultMessage:"Cancel"})),n.a.createElement(p.a,{id:"itest-id-deleteconf",onClick:()=>{g(),this.handleRequestClose()}},n.a.createElement(v.a,{id:"Apis.Details.components.DeleteApiButton.button.delete",defaultMessage:"Delete"})))))}}w.defaultProps={onClick:!1},w.propTypes={api:f.a.shape({delete:f.a.func}).isRequired,history:f.a.shape({push:f.a.func}).isRequired,onClick:f.a.func,classes:f.a.shape({}).isRequired},t.a=Object(y.withRouter)(Object(P.a)(e=>({root:{height:70,background:e.palette.background.paper,borderBottom:"solid 1px "+e.palette.grey.A200,display:"flex",alignItems:"center"},backLink:{alignItems:"center",textDecoration:"none",display:"flex"},backIcon:{color:e.palette.primary.main,fontSize:56,cursor:"pointer"},backText:{color:e.palette.primary.main,cursor:"pointer",fontFamily:e.typography.fontFamily},deleteWrapper:{flex:0,display:"flex",justifyContent:"flex-end",paddingRight:e.spacing(2)},delete:{display:"flex",flexDirection:"column",textAlign:"center",color:e.custom.deleteButtonColor,justifyContent:"center",cursor:"pointer"},linkText:{fontSize:e.typography.fontSize}}),{withTheme:!0})(w))},1507:function(e,t,a){"use strict";var i=a(0),n=a.n(i),r=a(17),s=a.n(r),o=a(52),c=a(1436),l=a(512),p=a.n(l),d=a(1508);class u extends i.PureComponent{render(){const{classes:e,api:t,width:a,height:i,theme:r,fixedIcon:s}=this.props,{category:o,key:l,color:u,backgroundIndex:h}=s;let m,g,f,y,P=t;"object"==typeof t&&(P=t.name),P||(P="default");const b=r.custom.thumbnail.backgrounds;if(l&&o)y=l;else if("DOC"===t.type)y=r.custom.thumbnail.document.icon;else{m=p.a.categories[0].icons.length;const e=(P.charCodeAt(0)+P.charCodeAt(P.length-1))%m;y=p.a.categories[0].icons[e].id}return g="DOC"===t.type?r.custom.thumbnail.document.backgrounds:"number"==typeof h&&b.length>h?b[h]:b[f=(P.charCodeAt(0)+P.charCodeAt(P.length-1))%b.length],n.a.createElement("div",{className:e.iconWrapper,style:{width:a}},n.a.createElement(c.a,{className:e.icon,style:{fontSize:i,marginLeft:-i/2,color:u}},y),n.a.createElement(d.a,{width:a,height:i,colorPair:g}))}}u.defaultProps={height:190,width:250,fixedIcon:{category:null,key:null,color:"",backgroundIndex:null}},u.propTypes={classes:s.a.shape({}).isRequired,height:s.a.number,width:s.a.number,fixedIcon:s.a.shape({}),api:s.a.shape({}).isRequired,iconSettings:s.a.shape({}).isRequired,theme:s.a.shape({}).isRequired},t.a=Object(o.a)({icon:{},iconWrapper:{position:"relative","& span":{position:"absolute",left:"50%"}}},{withTheme:!0})(u)},1508:function(e,t,a){"use strict";var i=a(0),n=a.n(i),r=a(17),s=a.n(r),o=a(52);function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e}).apply(this,arguments)}function l(e){return("0x"+e.substring(7,9))/256}function p(e){return e.substring(0,7)}function d(e){const{classes:t,colorPair:a,width:i,height:r}=e,s={width:50,height:50},o=[];for(let e=0;e<=4;e++)for(let t=0;t<=4;t++){const i="#"+(a.sub-(37*e-21*t)).toString(16);o.push(n.a.createElement("rect",c({key:e+"_"+t},s,{fill:p(i),fillOpacity:l(i),x:200-54*e,y:54*t})))}const d="#"+a.prime.toString(16);return n.a.createElement("svg",{width:i,height:r,className:t.svgImage},n.a.createElement("rect",c({},{width:250,height:200},{fill:p(d),fillOpacity:l(d)})),o)}d.propTypes={classes:s.a.shape({}).isRequired,width:s.a.shape({}).isRequired,height:s.a.shape({}).isRequired,colorPair:s.a.shape({sub:s.a.number,prime:s.a.number}).isRequired},t.a=Object(o.a)({svgImage:{cursor:"pointer",objectFit:"cover"}})(d)},2358:function(e,t,a){"use strict";a(2359)("Redirect"),e.exports=a(2360).Redirect},2359:function(e,t,a){"use strict";e.exports=function(e){}},2360:function(e,t,a){"use strict";e.exports=a(2361)},2361:function(e,t,a){"use strict";function i(e){return e&&"object"==typeof e&&"default"in e?e.default:e}Object.defineProperty(t,"__esModule",{value:!0});var n=i(a(0)),r=a(53),s=a(39);a(17),a(51);var o=i(a(36));function c(){return(c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e}).apply(this,arguments)}function l(e,t){e.prototype=Object.create(t.prototype),(e.prototype.constructor=e).__proto__=t}function p(e,t){if(null==e)return{};var a,i,n={},r=Object.keys(e);for(i=0;i<r.length;i++)a=r[i],0<=t.indexOf(a)||(n[a]=e[a]);return n}var d=function(e){function t(){for(var t,a=arguments.length,i=new Array(a),n=0;n<a;n++)i[n]=arguments[n];return(t=e.call.apply(e,[this].concat(i))||this).history=s.createBrowserHistory(t.props),t}return l(t,e),t.prototype.render=function(){return n.createElement(r.Router,{history:this.history,children:this.props.children})},t}(n.Component),u=function(e){function t(){for(var t,a=arguments.length,i=new Array(a),n=0;n<a;n++)i[n]=arguments[n];return(t=e.call.apply(e,[this].concat(i))||this).history=s.createHashHistory(t.props),t}return l(t,e),t.prototype.render=function(){return n.createElement(r.Router,{history:this.history,children:this.props.children})},t}(n.Component);var h=function(e){function t(){return e.apply(this,arguments)||this}l(t,e);var a=t.prototype;return a.handleClick=function(e,t){try{this.props.onClick&&this.props.onClick(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||this.props.target&&"_self"!==this.props.target||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),(this.props.replace?t.replace:t.push)(this.props.to))},a.render=function(){var e=this,t=this.props,a=t.innerRef,i=(t.replace,t.to),l=p(t,["innerRef","replace","to"]);return n.createElement(r.__RouterContext.Consumer,null,function(t){t||o(!1);var r="string"==typeof i?s.createLocation(i,null,null,t.location):i,p=r?t.history.createHref(r):"";return n.createElement("a",c({},l,{onClick:function(a){return e.handleClick(a,t.history)},href:p,ref:a}))})},t}(n.Component);Object.keys(r).forEach(function(e){t[e]=r[e]}),t.BrowserRouter=d,t.HashRouter=u,t.Link=h,t.NavLink=function(e){var t=e["aria-current"],a=void 0===t?"page":t,i=e.activeClassName,s=void 0===i?"active":i,l=e.activeStyle,d=e.className,u=e.exact,m=e.isActive,g=e.location,f=e.strict,y=e.style,P=e.to,b=p(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","strict","style","to"]),I="object"==typeof P?P.pathname:P,E=I&&I.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1");return n.createElement(r.__RouterContext.Consumer,null,function(e){e||o(!1);var t=g?g.pathname:e.location.pathname,i=E?r.matchPath(t,{path:E,exact:u,strict:f}):null,p=!!(m?m(i,e.location):i),I=p?function(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter(function(e){return e}).join(" ")}(d,s):d,A=p?c({},y,l):y;return n.createElement(h,c({"aria-current":p&&a||null,className:I,style:A,to:P},b))})}},2362:function(e,t,a){"use strict";var i=a(155);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(a(0)),r=(0,i(a(241)).default)(n.default.createElement("path",{d:"M19 9h-4V3H9v6H5l7 7 7-7zM5 18v2h14v-2H5z"}),"GetApp");t.default=r},2363:function(e,t,a){"use strict";var i=a(155);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(a(0)),r=(0,i(a(241)).default)(n.default.createElement("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zM8 20H4v-4h4v4zm0-6H4v-4h4v4zm0-6H4V4h4v4zm6 12h-4v-4h4v4zm0-6h-4v-4h4v4zm0-6h-4V4h4v4zm6 12h-4v-4h4v4zm0-6h-4v-4h4v4zm0-6h-4V4h4v4z"}),"GridOn");t.default=r},3734:function(e,t,a){"use strict";a.r(t);var i=a(0),n=a.n(i),r=a(53),s=a(125),o=a(69),c=a(17),l=a.n(c),p=a(52),d=a(123),u=a(161),h=a(1406),m=a(761),g=a.n(m),f=a(13),y=a(1154),P=a.n(y),b=a(517),I=a(614),E=a(1436),A=a(1464),v=a(1465),w=a(1466),T=a(1467),_=a(508),S=a(1967),O=a(1435),C=a(643),M=a.n(C),D=a(529),x=a(1506),R=a(1155);class N extends i.Component{constructor(e){super(e),this.state={isHover:!1,loading:!1},this.toggleMouseOver=this.toggleMouseOver.bind(this),this.handleApiDelete=this.handleApiDelete.bind(this)}handleApiDelete(){const{api:{id:e,name:t}}=this.props;this.setState({loading:!0});const{updateData:a,isAPIProduct:i}=this.props;if(i){b.a.deleteProduct(e).then(i=>{200===i.status?(a(e),D.a.info("API Product ".concat(t," deleted Successfully")),this.setState({loading:!1})):D.a.info("Something went wrong while deleting the API Product!")}).catch(e=>{409===e.status?(D.a.error("[ "+t+" ] : "+e.response.body.description),this.setState({loading:!1})):(D.a.error("Something went wrong while deleting the API Product!"),this.setState({loading:!1}))})}else{b.a.delete(e).then(i=>{200===i.status?(a(e),D.a.info("API ".concat(t," deleted Successfully")),this.setState({loading:!1})):D.a.info("Something went wrong while deleting the API!")}).catch(e=>{409===e.status?(D.a.error("[ "+t+" ] : "+e.response.body.description),this.setState({loading:!1})):(D.a.error("Something went wrong while deleting the API!"),this.setState({loading:!1}))})}}toggleMouseOver(e){this.setState({isHover:"mouseover"===e.type})}render(){const{classes:e,api:t,isAPIProduct:a}=this.props,{isHover:i,loading:r}=this.state;let s="";return s=t.apiType?a?"/api-products/".concat(t.id,"/overview"):"/apis/".concat(t.id,"/overview"):"/apis/".concat(t.apiUUID,"/documents/").concat(t.id,"/details"),t.apiType=a?b.a.CONSTS.APIProduct:b.a.CONSTS.API,t.lifeCycleStatus||(t.lifeCycleStatus=t.status),n.a.createElement(A.a,{onMouseOver:this.toggleMouseOver,onFocus:this.toggleMouseOver,onMouseOut:this.toggleMouseOver,onBlur:this.toggleMouseOver,raised:i,className:e.card},n.a.createElement(T.a,{src:"None",component:R.a,height:140,title:"Thumbnail",api:t}),n.a.createElement(w.a,{className:e.apiDetails},n.a.createElement("div",{className:e.textWrapper},n.a.createElement(d.b,{to:s},n.a.createElement(_.a,{gutterBottom:!0,variant:"h4",className:e.thumbHeader,title:t.name},t.name))),n.a.createElement("div",{className:e.row},n.a.createElement(_.a,{variant:"caption",gutterBottom:!0,align:"left",className:e.thumbBy},n.a.createElement(f.a,{id:"by",defaultMessage:"By"}),n.a.createElement(f.a,{id:"colon",defaultMessage:" : "}),t.provider)),n.a.createElement("div",{className:e.thumbInfo},a?null:n.a.createElement("div",{className:e.row},n.a.createElement("div",{className:e.thumbLeft},n.a.createElement(_.a,{variant:"subtitle1"},t.version)),n.a.createElement("div",{className:e.thumbLeft},n.a.createElement(_.a,{variant:"caption",gutterBottom:!0,align:"left"},n.a.createElement(f.a,{defaultMessage:"Version",id:"Apis.Listing.ApiThumb.version"})))),n.a.createElement("div",{className:e.row},n.a.createElement("div",{className:e.thumbRight},n.a.createElement(_.a,{variant:"subtitle1",align:"right",className:e.contextBox},t.context)),n.a.createElement("div",{className:e.thumbRight},n.a.createElement(_.a,{variant:"caption",gutterBottom:!0,align:"right",className:e.context},n.a.createElement(f.a,{defaultMessage:"Context",id:"Apis.Listing.ApiThumb.context"})))))),n.a.createElement(v.a,{className:e.apiActions},n.a.createElement(S.a,{label:t.apiType===b.a.CONSTS.APIProduct?t.state:t.lifeCycleStatus,color:"default"}),("GRAPHQL"===t.type||"GRAPHQL"===t.transportType)&&n.a.createElement(S.a,{className:e.thumbRightBy,label:void 0===t.transportType?t.type:t.transportType,color:"primary"}),n.a.createElement(x.a,{onClick:this.handleApiDelete,api:t}),r&&n.a.createElement(O.a,{className:e.deleteProgress})))}}N.propTypes={classes:l.a.shape({}).isRequired,api:l.a.shape({id:l.a.string,name:l.a.string,apiType:l.a.string.isRequired}).isRequired,updateData:l.a.func.isRequired,isAPIProduct:l.a.bool.isRequired};var L=Object(f.d)(Object(p.a)(e=>({card:{margin:e.spacing(1.5),maxWidth:e.spacing(32),transition:"box-shadow 0.3s ease-in-out"},providerText:{textTransform:"capitalize"},apiDetails:{padding:e.spacing(1)},apiActions:{justifyContent:"space-between",padding:"0px 0px ".concat(e.spacing(1),"px 8px")},deleteProgress:{color:M.a[200],position:"absolute",marginLeft:"200px"},thumbHeader:{width:"90%",whiteSpace:"nowrap",color:e.palette.text.secondary,overflow:"hidden",textOverflow:"ellipsis",cursor:"pointer",margin:0,"padding-left":"5px"},imageWrapper:{color:e.palette.text.secondary,backgroundColor:e.palette.background.paper,width:e.custom.thumbnail.width+e.spacing(1),display:"flex",alignItems:"center",justifyContent:"center"},thumbContent:{width:e.custom.thumbnail.width-e.spacing(1),backgroundColor:e.palette.background.paper,padding:e.spacing(1)},thumbLeft:{alignSelf:"flex-start",flex:1,width:"25%","padding-left":"5px","padding-right":"65px"},thumbRight:{alignSelf:"flex-end"},thumbInfo:{display:"flex"},contextBox:{width:"110px",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",cursor:"pointer",margin:0,display:"inline-block",lineHeight:"1em","padding-top":5,"padding-right":5,"padding-bottom":1.5,textAlign:"left"},imageOverlap:{position:"absolute",bottom:1,backgroundColor:e.custom.thumbnail.contentBackgroundColor},row:{display:"inline-block"},textWrapper:{color:e.palette.text.secondary,textDecoration:"none"},thumbBy:{"padding-left":"5px"},thumbRightBy:{"margin-right":"5px"}}))(N)),q=a(1317);class k extends i.Component{constructor(e){super(e),this.state={isHover:!1},this.toggleMouseOver=this.toggleMouseOver.bind(this)}toggleMouseOver(e){this.setState({isHover:"mouseover"===e.type})}render(){const{classes:e,doc:t}=this.props,{isHover:a}=this.state;return n.a.createElement(A.a,{onMouseOver:this.toggleMouseOver,onFocus:this.toggleMouseOver,onMouseOut:this.toggleMouseOver,onBlur:this.toggleMouseOver,raised:a,className:e.card},n.a.createElement(T.a,{src:"None",component:R.a,height:140,title:"Thumbnail",api:t}),n.a.createElement(w.a,{className:e.docDetails},n.a.createElement(_.a,{gutterBottom:!0,variant:"h5",component:"h2"},t.name),n.a.createElement(q.a,{container:!0},n.a.createElement(q.a,{item:!0,md:6},n.a.createElement(f.a,{id:"Apis.Listing.components.ImageGenerator.DocThumb.sourceType",defaultMessage:"Source Type"}),":",n.a.createElement(_.a,{variant:"body1"},t.sourceType)),n.a.createElement(q.a,{item:!0,md:6},n.a.createElement(f.a,{id:"Apis.Listing.components.ImageGenerator.DocThumb.apiName",defaultMessage:"API Name"}),":",n.a.createElement(_.a,{className:e.providerText,variant:"body1",gutterBottom:!0},t.apiName)),n.a.createElement(q.a,{item:!0,md:6},n.a.createElement(f.a,{id:"Apis.Listing.components.ImageGenerator.DocThumb.apiVersion",defaultMessage:"API Version"}),":",n.a.createElement(_.a,{variant:"body1",gutterBottom:!0},t.apiVersion)))))}}k.propTypes={classes:l.a.shape({}).isRequired,doc:l.a.shape({id:l.a.string,name:l.a.string,sourceType:l.a.string.isRequired,apiName:l.a.string.isRequired,apiVersion:l.a.string.isRequired}).isRequired};var j=Object(f.d)(Object(p.a)(e=>({card:{margin:e.spacing(1.5),maxWidth:e.spacing(32),transition:"box-shadow 0.3s ease-in-out"},providerText:{textTransform:"capitalize"},docDetails:{padding:e.spacing(1)},docActions:{justifyContent:"space-between",padding:"0px 0px ".concat(e.spacing(1),"px 0px")},deleteProgress:{color:M.a[200],position:"absolute",marginLeft:"200px"}}))(k)),z=a(629),U=a(670),B=a(1318),W=a(2358),H=a.n(W),F=a(1149),V=a.n(F),G=a(2362),$=a.n(G),K=a(608),J=a(1432),Q=a(1438),Y=a(1442),X=a(1443),Z=a(152),ee=a(1402),te=a(1401),ae=a(510),ie=a(1409);function ne(){return(ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e}).apply(this,arguments)}class re extends n.a.Component{constructor(e){super(e),this.state={open:!1},this.handleToggle=this.handleToggle.bind(this),this.handleClose=this.handleClose.bind(this)}handleToggle(){this.setState(e=>({open:!e.open}))}handleClose(e){this.anchorEl.contains(e.target)||this.setState({open:!1})}render(){const{classes:e,children:t,menuList:a,buttonProps:i}=this.props,{open:r}=this.state;return n.a.createElement(n.a.Fragment,null,n.a.createElement(B.a,ne({id:"itest-id-createapi",buttonRef:e=>{this.anchorEl=e},"aria-owns":r?"menu-list-grow":null,"aria-haspopup":"true",onClick:this.handleToggle},i),t," ","â–¼"),n.a.createElement(ie.a,{open:r,placement:"bottom-start",anchorEl:this.anchorEl,transition:!0,disablePortal:!0,className:e.position},e=>{let{TransitionProps:t,placement:i}=e;return n.a.createElement(te.a,ne({},t,{id:"menu-list-grow",style:{transformOrigin:"bottom"===i?"center top":"center bottom"}}),n.a.createElement(ae.a,null,n.a.createElement(ee.a,{onClickAway:this.handleClose},a)))}))}}re.propTypes={classes:l.a.shape({position:l.a.shape({})}).isRequired,menuList:l.a.element.isRequired,children:l.a.shape({}).isRequired,buttonProps:l.a.shape({}).isRequired};var se=Object(p.a)(e=>({root:{display:"flex"},paper:{marginRight:e.spacing(2)},position:{zIndex:e.zIndex.apiCreateMenu}}))(re);function oe(){return(oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e}).apply(this,arguments)}const ce=Object(Z.a)(e=>({links:{textDecoration:"none",color:e.palette.getContrastText(e.palette.background.paper)}})),le=e=>{const t=ce(),a=n.a.createElement(J.a,null,n.a.createElement(Q.a,null,n.a.createElement(d.b,{id:"itest-id-createdefault",to:"/apis/create/rest",className:t.links},n.a.createElement(Y.a,{primary:n.a.createElement(f.a,{id:"Apis.Listing.components.APICreateMenu.primary.rest",defaultMessage:"Design a New REST API"}),secondary:n.a.createElement(f.a,{id:"Apis.Listing.components.APICreateMenu.secondary.rest",defaultMessage:"Design and prototype a new REST API"})}))),n.a.createElement(X.a,null),n.a.createElement(Q.a,null,n.a.createElement(d.b,{to:"/apis/create/openapi",className:t.links},n.a.createElement(Y.a,{primary:n.a.createElement(f.a,{id:"Apis.Listing.components.APICreateMenu.primary.swagger",defaultMessage:"I Have an Existing REST API"}),secondary:n.a.createElement(f.a,{id:"Apis.Listing.components.APICreateMenu.secondary.openapi",defaultMessage:"Use an existing OpenAPI definition file or URL"})}))),n.a.createElement(X.a,null),n.a.createElement(Q.a,null,n.a.createElement(d.b,{to:"/apis/create/wsdl",className:t.links},n.a.createElement(Y.a,{primary:n.a.createElement(f.a,{id:"Apis.Listing.components.APICreateMenu.primary.soap",defaultMessage:"I Have a SOAP Endpoint"}),secondary:n.a.createElement(f.a,{id:"Apis.Listing.components.APICreateMenu.secondary.soap",defaultMessage:"Use an existing SOAP or import the WSDL"})}))),n.a.createElement(X.a,null),n.a.createElement(Q.a,null,n.a.createElement(d.b,{to:"/apis/create/graphQL",className:t.links},n.a.createElement(Y.a,{primary:n.a.createElement(f.a,{id:"Apis.Listing.components.APICreateMenu.primary.graphql",defaultMessage:"I Have a GraphQL SDL schema"}),secondary:n.a.createElement(f.a,{id:"Apis.Listing.components.APICreateMenu.secondary.graphql",defaultMessage:"Import a GraphQL SDL schema"})}))),n.a.createElement(X.a,null),n.a.createElement(Q.a,null,n.a.createElement(d.b,{to:"/apis/create/ws",className:t.links},n.a.createElement(Y.a,{primary:n.a.createElement(f.a,{id:"Apis.Listing.components.APICreateMenu.primary.ws",defaultMessage:"Design New WebSocket API"}),secondary:n.a.createElement(f.a,{id:"Apis.Listing.components.APICreateMenu.secondary.ws",defaultMessage:"Design and prototype a new WebSocket API"})}))));return!o.a.isNotCreator()&&n.a.createElement(se,oe({},e,{menuList:a}))};le.propTypes={children:l.a.oneOfType([l.a.element,l.a.array]).isRequired};var pe=le;var de=e=>({paths:{"/order":{post:{"x-auth-type":"Application & Application User","x-throttling-tier":e,description:"Create a new Order",parameters:[{schema:{$ref:"#/definitions/Order"},description:"Order object that needs to be added",name:"body",required:!0,in:"body"}],responses:{201:{headers:{Location:{description:"The URL of the newly created resource.",type:"string"},"Content-Type":{description:"The content type of the body.",type:"string"}},schema:{$ref:"#/definitions/Order"},description:"Created. Successful response with the newly created object as entity inthe body. Location header contains URL of newly created entity."},400:{schema:{$ref:"#/definitions/Error"},description:"Bad Request. Invalid request or validation error."},415:{schema:{$ref:"#/definitions/Error"},description:"Unsupported Media Type. The entity of the request was in a not supported format."}}}},"/menu":{get:{"x-auth-type":"Application & Application User","x-throttling-tier":e,description:"Return a list of available menu items",parameters:[],responses:{200:{headers:{},schema:{items:{$ref:"#/definitions/MenuItem"},type:"array"},description:"OK. List of APIs is returned."},304:{description:"Not Modified. Empty body because the client has already the latest version of the requested resource."},406:{schema:{$ref:"#/definitions/Error"},description:"Not Acceptable. The requested media type is not supported"}}}},"/order/{orderId}":{put:{"x-auth-type":"Application & Application User","x-throttling-tier":e,description:"Update an existing Order",parameters:[{description:"Order Id",name:"orderId",format:"string",type:"string",required:!0,in:"path"},{schema:{$ref:"#/definitions/Order"},description:"Order object that needs to be added",name:"body",required:!0,in:"body"}],responses:{200:{headers:{Location:{description:"The URL of the newly created resource.",type:"string"},"Content-Type":{description:"The content type of the body.",type:"string"}},schema:{$ref:"#/definitions/Order"},description:"OK. Successful response with updated Order"},400:{schema:{$ref:"#/definitions/Error"},description:"Bad Request. Invalid request or validation error"},404:{schema:{$ref:"#/definitions/Error"},description:"Not Found. The resource to be updated does not exist."},412:{schema:{$ref:"#/definitions/Error"},description:"Precondition Failed. The request has not been performed because one of the preconditions is not met."}}},get:{"x-auth-type":"Application & Application User","x-throttling-tier":e,description:"Get details of an Order",parameters:[{description:"Order Id",name:"orderId",format:"string",type:"string",required:!0,in:"path"}],responses:{200:{schema:{$ref:"#/definitions/Order"},headers:{},description:"OK Requested Order will be returned"},304:{description:"Not Modified. Empty body because the client has already the latest version of the requested resource."},404:{schema:{$ref:"#/definitions/Error"},description:"Not Found. Requested API does not exist."},406:{schema:{$ref:"#/definitions/Error"},description:"Not Acceptable. The requested media type is not supported"}}},delete:{"x-auth-type":"Application & Application User","x-throttling-tier":e,description:"Delete an existing Order",parameters:[{description:"Order Id",name:"orderId",format:"string",type:"string",required:!0,in:"path"}],responses:{200:{description:"OK. Resource successfully deleted."},404:{schema:{$ref:"#/definitions/Error"},description:"Not Found. Resource to be deleted does not exist."},412:{schema:{$ref:"#/definitions/Error"},description:"Precondition Failed. The request has not been performed because one of the preconditions is not met."}}}}},schemes:["https"],produces:["application/json"],swagger:"2.0",definitions:{ErrorListItem:{title:"Description of individual errors that may have occurred during a request.",properties:{message:{description:"Description about individual errors occurred",type:"string"},code:{format:"int64",type:"integer"}},required:["code","message"]},MenuItem:{title:"Pizza menu Item",properties:{price:{type:"string"},description:{type:"string"},name:{type:"string"},image:{type:"string"}},required:["name"]},Order:{title:"Pizza Order",properties:{customerName:{type:"string"},delivered:{type:"boolean"},address:{type:"string"},pizzaType:{type:"string"},creditCardNumber:{type:"string"},quantity:{type:"number"},orderId:{type:"string"}},required:["orderId"]},Error:{title:"Error object returned with 4XX HTTP status",properties:{message:{description:"Error message.",type:"string"},error:{items:{$ref:"#/definitions/ErrorListItem"},description:"If there are more than one error list them out. Ex. list out validation errors by each field.",type:"array"},description:{description:"A detail description about the error message.",type:"string"},code:{format:"int64",type:"integer"},moreInfo:{description:"Preferably an url with more details about the error.",type:"string"}},required:["code","message"]}},consumes:["application/json"],info:{title:"PizzaShackAPI",description:"This is a RESTFul API for Pizza Shack online pizza delivery store.\n",license:{name:"Apache 2.0",url:"http://www.apache.org/licenses/LICENSE-2.0.html"},contact:{email:"architecture@pizzashack.com",name:"John Doe",url:"http://www.pizzashack.com"},version:"1.0.0"}});class ue extends i.Component{constructor(e){super(e),this.state={published:!1,api:null,deploying:!1},this.sampleApi=new b.a,this.handleDeploySample=this.handleDeploySample.bind(this),this.createSampleAPI=this.createSampleAPI.bind(this)}handleDeploySample(){const{intl:e}=this.props;this.setState({deploying:!0});const t=this.createSampleAPI().then(e=>(e.updateSwagger(de("Unlimited")),e));t.catch(e=>{console.error(e),D.a.error(e)}),o.a.isNotPublisher()?t.then(t=>{this.setState({published:!0,api:t}),D.a.info(e.formatMessage({id:"Apis.Listing.SampleAPI.SampleAPI.created",defaultMessage:"Sample PizzaShackAPI API created successfully"}))}).catch(e=>{D.a.error(e)}):t.then(t=>{t.publish().then(()=>{this.setState({published:!0,api:t}),D.a.info(e.formatMessage({id:"Apis.Listing.SampleAPI.SampleAPI.created",defaultMessage:"Sample PizzaShackAPI API created successfully"}))}).catch(e=>{this.setState({deploying:!1}),D.a.error(e)})})}createSampleAPI(){return new b.a({name:"PizzaShackAPI",description:"This is a simple API for Pizza Shack online pizza delivery store.",context:"/pizzashack",version:"1.0.0",transport:["http","https"],tags:["pizza"],policies:["Unlimited"],securityScheme:["oauth2"],visibility:"PUBLIC",gatewayEnvironments:["Production and Sandbox"],businessInformation:{businessOwner:"Jane Roe",businessOwnerEmail:"marketing@pizzashack.com",technicalOwner:"John Doe",technicalOwnerEmail:"architecture@pizzashack.com"},endpointConfig:{endpoint_type:"http",sandbox_endpoints:{url:"https://localhost:9443/am/sample/pizzashack/v1/api/"},production_endpoints:{url:"https://localhost:9443/am/sample/pizzashack/v1/api/"}},operations:[{target:"/order/{orderId}",verb:"GET",throttlingPolicy:"Unlimited",authType:"Application & Application User"},{target:"/order/{orderId}",verb:"DELETE",throttlingPolicy:"Unlimited",authType:"Application & Application User"},{target:"/order/{orderId}",verb:"PUT",throttlingPolicy:"Unlimited",authType:"Application & Application User"},{target:"/menu",verb:"GET",throttlingPolicy:"Unlimited",authType:"Application & Application User"},{target:"/order",verb:"POST",throttlingPolicy:"Unlimited",authType:"Application & Application User"}]}).save().catch(e=>{console.error(e),this.setState({deploying:!1});const{response:t}=e;if(t){const{code:e,description:a,message:i}=t.body;D.a.error("ERROR[".concat(e,"] : ").concat(a," | ").concat(i))}else D.a.error(e)})}render(){const{published:e,api:t,deploying:a}=this.state,{classes:i}=this.props;if(e&&t){const e="/apis/"+t.id+"/overview";return n.a.createElement(H.a,{to:e})}return n.a.createElement(K.a,{type:"info",height:140},n.a.createElement("div",{className:i.contentWrapper},n.a.createElement(_.a,{variant:"h5",component:"h3",className:i.head},n.a.createElement(f.a,{id:"welcome.to.wso2.api.manager",defaultMessage:"Welcome to WSO2 API Manager"})),n.a.createElement(_.a,{component:"p",className:i.content},n.a.createElement(f.a,{id:"Apis.Listing.SampleAPI.SampleAPI.description",defaultMessage:"WSO2 API Publisher enables API providers to publish APIs, share documentation, provision API keys and gather feedback on features, quality and usage. To get started, Create an API or Publish a sample API."})),n.a.createElement("div",{className:i.actions},n.a.createElement(pe,{buttonProps:{size:"small",color:"primary",variant:"contained",className:i.buttonLeft}},n.a.createElement(V.a,null),n.a.createElement(f.a,{id:"create.new.api",defaultMessage:"Create New API"})),!o.a.isNotCreator()&&n.a.createElement(B.a,{size:"small",color:"primary",disabled:a,variant:"contained",onClick:this.handleDeploySample},n.a.createElement($.a,null),n.a.createElement(f.a,{id:"deploy.sample.api",defaultMessage:"Deploy Sample API"}),a&&n.a.createElement(O.a,{size:24,className:i.buttonProgress})))))}}ue.propTypes={classes:c.PropTypes.shape({}).isRequired,intl:c.PropTypes.shape({formatMessage:c.PropTypes.func}).isRequired};var he=Object(f.d)(Object(p.a)(e=>({buttonProgress:{color:M.a[500],position:"relative"},headline:{paddingTop:e.spacing(1.25),paddingLeft:e.spacing(2.5)},head:{paddingBottom:e.spacing(2),fontWeight:200},content:{paddingBottom:e.spacing(2)},buttonLeft:{marginRight:e.spacing(1)}}))(ue)),me=a(1399),ge=a(1148),fe=a.n(ge),ye=a(2363),Pe=a.n(ye),be=a(694),Ie=a(811);function Ee(e){const{classes:t,data:a,setListType:i,theme:r,count:s,isAPIProduct:o,listType:c,showToggle:l}=e,p=r.palette.getContrastText(r.palette.background.paper);return s>0?n.a.createElement("div",{className:t.root},n.a.createElement("div",{className:t.mainIconWrapper},n.a.createElement(Ie.a,{strokeColor:p,width:42,height:42,icon:"api"})),n.a.createElement("div",{className:t.mainTitleWrapper},a&&n.a.createElement(n.a.Fragment,null,n.a.createElement(_.a,{variant:"h5",className:t.mainTitle,component:"div"},o?n.a.createElement(f.a,{id:"Apis.Listing.components.TopMenu.apiproducts",defaultMessage:"API Products"}):n.a.createElement(f.a,{id:"Apis.Listing.components.TopMenu.apis",defaultMessage:"APIs"})),n.a.createElement(_.a,{variant:"caption",gutterBottom:!0,align:"left",component:"div"},n.a.createElement(f.a,{id:"Apis.Listing.components.TopMenu.displaying",defaultMessage:"Displaying"})," "," ",s," "," ",function(e){const{isAPIProduct:t,query:a}=e;return a?n.a.createElement(f.a,{id:"Apis.Listing.components.TopMenu.search.results",defaultMessage:"Search Result(s)"}):t?n.a.createElement(f.a,{id:"Apis.Listing.components.TopMenu.apiproduct(s)",defaultMessage:"API Product(s)"}):n.a.createElement(f.a,{id:"Apis.Listing.components.TopMenu.api(s)",defaultMessage:"API(s)"})}(e)))),n.a.createElement(be.a,{height:70}),n.a.createElement("div",{className:t.APICreateMenu},o?n.a.createElement(d.b,{to:"/api-products/create"},n.a.createElement(B.a,{variant:"contained",className:t.createButton},n.a.createElement(f.a,{id:"Apis.Listing.components.TopMenu.create.an.api.product",defaultMessage:"Create an API Product"}))):n.a.createElement(pe,{buttonProps:{variant:"contained",color:"primary",className:t.button}},n.a.createElement(f.a,{id:"Apis.Listing.components.TopMenu.create.api",defaultMessage:"Create API"}))),l&&n.a.createElement("div",{className:t.buttonRight},n.a.createElement(me.a,{className:t.button,disabled:0===a.length,onClick:()=>i("list")},n.a.createElement(fe.a,{color:"list"===c?"primary":"default"})),n.a.createElement(me.a,{className:t.button,disabled:0===a.length,onClick:()=>i("grid")},n.a.createElement(Pe.a,{color:"grid"===c?"primary":"default"})))):null}Ee.propTypes={classes:l.a.shape({}).isRequired,setListType:l.a.func.isRequired,listType:l.a.string.isRequired,data:l.a.shape({length:l.a.number}).isRequired,count:l.a.number.isRequired,theme:l.a.shape({custom:l.a.string}).isRequired,isAPIProduct:l.a.bool.isRequired,showToggle:l.a.bool.isRequired};var Ae=Object(p.a)(e=>({rightIcon:{marginLeft:e.spacing(1)},button:{margin:e.spacing(1),marginBottom:0},buttonRight:{display:"flex"},ListingWrapper:{paddingTop:10,paddingLeft:35},root:{height:70,background:e.palette.background.paper,borderBottom:"solid 1px "+e.palette.grey.A200,display:"flex"},mainIconWrapper:{paddingTop:13,paddingLeft:35,paddingRight:20},mainTitleWrapper:{display:"flex",justifyContent:"center",flexDirection:"column"},APICreateMenu:{flexGrow:1,display:"flex",alignItems:"center"},content:{flexGrow:1},createButton:{color:"#000000",background:"#15b8cf"}}),{withTheme:!0})(Ee),ve=a(506);const we=Object(ve.a)(e=>({head:{paddingBottom:e.spacing(2),fontWeight:200},content:{paddingBottom:e.spacing(2)}}));function Te(){const e=we();return n.a.createElement(K.a,{type:"info",height:140},n.a.createElement("div",{className:e.contentWrapper},n.a.createElement(_.a,{variant:"h5",component:"h3",className:e.head},n.a.createElement(f.a,{id:"Apis.Listing.SampleAPIProduct.manager",defaultMessage:"Welcome to WSO2 API Manager"})),n.a.createElement(_.a,{component:"p",className:e.content},n.a.createElement(f.a,{id:"Apis.Listing.SampleAPIProduct.description",defaultMessage:"The API resources in an API product can come from one or more APIs, so you can mix and match resources from multiple API resources to create specialized feature sets."})),!o.a.isNotPublisher()&&n.a.createElement("div",{className:e.actions},n.a.createElement(d.b,{id:"itest-id-createdefault",to:"/api-products/create",className:e.links},n.a.createElement(B.a,{size:"small",color:"primary",variant:"contained",className:"rightAlign"},n.a.createElement(V.a,null),n.a.createElement(f.a,{id:"Apis.Listing.SampleAPI.SampleAPIProduct.create.new.api.product",defaultMessage:"Create New API Product"}))))))}Te.propTypes={classes:c.PropTypes.shape({}).isRequired,intl:c.PropTypes.shape({formatMessage:c.PropTypes.func}).isRequired};var _e=Object(r.withRouter)(Object(f.d)(Te));function Se(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}class Oe extends n.a.Component{constructor(e){super(e),Se(this,"getMuiTheme",()=>{const{listType:e}=this.state,{theme:t}=this.props;let a={},i={overrides:{MUIDataTable:{root:{backgroundColor:"transparent",marginLeft:40},paper:{boxShadow:"none",backgroundColor:"transparent"},tableRoot:{"& tbody":{backgroundColor:"#fff"}}},MUIDataTableBodyCell:{root:{backgroundColor:"transparent"}}}};return"grid"===e&&(a={overrides:{MUIDataTable:{tableRoot:{display:"block","& tbody":{display:"flex",flexWrap:"wrap",backgroundColor:"transparent"},"& thead":{display:"none"}}}}}),i=Object.assign(t,i,a),Object(u.a)(i)}),Se(this,"getData",()=>{const{intl:e}=this.props;this.xhrRequest().then(e=>{const{body:t}=e,{list:a,pagination:i,count:n}=t,{total:r}=i;this.count>0&&0===r&&(this.page=0,this.removeLocalStorage(),this.getData()),this.count=r,this.setState({apisAndApiProducts:a,notFound:!1,displayCount:n})}).catch(()=>{D.a.error(e.formatMessage({defaultMessage:"Error While Loading APIs",id:"Apis.Listing.TableView.TableView.error.loading"}))}).finally(()=>{this.setState({loading:!1})})}),Se(this,"removeLocalStorage",()=>{const{isAPIProduct:e}=this.props,t=e?"products":"apis";window.localStorage.removeItem("pagination-"+t)}),Se(this,"getLocalStorage",()=>{const{isAPIProduct:e}=this.props,t=e?"products":"apis",a=window.localStorage.getItem("pagination-"+t);if(a){const e=JSON.parse(a);e.page&&e.count&&e.rowsPerPage&&(this.page=e.page,this.count=e.count,this.rowsPerPage=e.rowsPerPage)}}),Se(this,"setListType",e=>{this.setState({listType:e})}),Se(this,"setLocalStorage",()=>{const{isAPIProduct:e}=this.props,t=e?"products":"apis",a={page:this.page,count:this.count,rowsPerPage:this.rowsPerPage};window.localStorage.setItem("pagination-"+t,JSON.stringify(a))}),Se(this,"changePage",e=>{this.page=e;const{intl:t}=this.props;this.setState({loading:!0}),this.xhrRequest().then(e=>{const{body:t}=e,{list:a,count:i}=t;this.setState({apisAndApiProducts:a,notFound:!1,displayCount:i}),this.setLocalStorage()}).catch(()=>{D.a.error(t.formatMessage({defaultMessage:"Error While Loading APIs",id:"Apis.Listing.TableView.TableView.error.loading"}))}).finally(()=>{this.setState({loading:!1})})}),Se(this,"xhrRequest",()=>{const{page:e,rowsPerPage:t}=this,{isAPIProduct:a,query:i}=this.props;if(i){const a=P.a.parse(i);return a.limit=this.rowsPerPage,a.offset=e*t,b.a.search(a)}return a?I.a.all({limit:this.rowsPerPage,offset:e*t}):b.a.all({limit:this.rowsPerPage,offset:e*t})});let{defaultApiView:t}=e.theme.custom;this.showToggle=!0,"object"==typeof t&&t.length>0&&(1===t.length&&(this.showToggle=!1),t=t[t.length-1]),this.state={apisAndApiProducts:null,notFound:!0,displayCount:0,listType:t,loading:!0},this.page=0,this.count=100,this.rowsPerPage=10,this.getLocalStorage(),this.setListType=this.setListType.bind(this),this.updateData=this.updateData.bind(this)}componentDidMount(){this.getLocalStorage(),this.getData()}componentDidUpdate(e){const{isAPIProduct:t,query:a}=this.props;t===e.isAPIProduct&&a===e.query||(this.getLocalStorage(),this.getData())}componentWillUnmount(){const{theme:e}=this.props;Object.assign(e,{overrides:{MUIDataTable:{tableRoot:{display:"table","& tbody":{display:"table-row-group"},"& thead":{display:"table-header-group"}}}}})}updateData(){const{page:e,rowsPerPage:t,count:a}=this;a-1==t*e&&0!==e&&(this.page=e-1),this.getData()}render(){var e=this;const{intl:t,isAPIProduct:a,classes:i,query:r}=this.props,{loading:s}=this.state,o=[{name:"id",options:{display:"excluded",filter:!1}},{name:"name",label:t.formatMessage({id:"Apis.Listing.ApiTableView.name",defaultMessage:"Name"}),options:{customBodyRender:function(t,a,r){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e;if(a.rowData){const{isAPIProduct:e}=s.props,t=s.state.apisAndApiProducts[a.rowIndex],r=a.rowData[1],o=a.rowData[0];if(e)return n.a.createElement(d.b,{to:"/api-products/"+o+"/overview",className:i.apiNameLink},n.a.createElement(Ie.a,{width:16,height:16,icon:"api-product",strokeColor:"#444444"}),n.a.createElement("span",null,r));if(t)return"DOC"===t.type?n.a.createElement(d.b,{to:"/apis/"+t.apiUUID+"/documents/"+o+"/details",className:i.apiNameLink},n.a.createElement(E.a,null,"library_books"),n.a.createElement(f.a,{id:"Apis.Listing.TableView.TableView.doc.flag",defaultMessage:" [Doc]"}),n.a.createElement("span",null,r)):n.a.createElement(d.b,{to:"/apis/"+o+"/overview",className:i.apiNameLink},n.a.createElement(Ie.a,{width:16,height:16,icon:"api",strokeColor:"#444444"}),n.a.createElement("span",null,r))}return n.a.createElement("span",null)},sort:!1,filter:!1}},{name:"version",label:t.formatMessage({id:"Apis.Listing.ApiTableView.version",defaultMessage:"Version"}),options:{sort:!1}},{name:"context",label:t.formatMessage({id:"Apis.Listing.ApiTableView.context",defaultMessage:"Context"}),options:{sort:!1}},{name:"provider",label:t.formatMessage({id:"Apis.Listing.ApiTableView.provider",defaultMessage:"Provider"}),options:{sort:!1}}],{page:c,count:l,rowsPerPage:p}=this,{apisAndApiProducts:u,notFound:m,listType:y,displayCount:P}=this.state,b={filterType:"dropdown",responsive:"stacked",serverSide:!0,search:!1,count:l,page:c,onTableChange:(e,t)=>{switch(e){case"changePage":this.changePage(t.page)}},selectableRows:"none",rowsPerPage:p,onChangeRowsPerPage:e=>{this.rowsPerPage=e,c*e>l?this.page=0:l-1==p*c&&0!==c&&(this.page=c-1),this.getData(),this.setLocalStorage()}};return"grid"===y?(b.customRowRender=function(t,a,i){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:e;const{isAPIProduct:s}=r.props,o=r.state.apisAndApiProducts[a];return o?"DOC"===o.type?n.a.createElement(j,{doc:o}):"APIPRODUCT"===o.type?(o.state="PUBLISHED",n.a.createElement(L,{api:o,isAPIProduct:!0,updateData:r.updateData})):n.a.createElement(L,{api:o,isAPIProduct:s,updateData:r.updateData}):n.a.createElement("span",null)},b.title=!1,b.filter=!1,b.print=!1,b.download=!1,b.viewColumns=!1,b.customToolbar=!1):(b.customRowRender=null,b.title=!0,b.filter=!1,b.print=!0,b.download=!0,b.viewColumns=!0),s||!u?n.a.createElement(z.a,{per:90,message:"Loading APIs ..."}):m?n.a.createElement(U.a,null):0!==u.length||r?n.a.createElement(n.a.Fragment,null,n.a.createElement(Ae,{data:u,count:P,setListType:this.setListType,isAPIProduct:a,listType:y,showToggle:this.showToggle,query:r}),n.a.createElement("div",{className:i.contentInside},n.a.createElement(h.a,{theme:this.getMuiTheme()},n.a.createElement(g.a,{title:"",data:u,columns:o,options:b})))):n.a.createElement(n.a.Fragment,null,n.a.createElement(Ae,{data:u,count:P,setListType:this.setListType,isAPIProduct:a,listType:y,showToggle:this.showToggle}),n.a.createElement("div",{className:i.contentInside},a?n.a.createElement(_e,null):n.a.createElement(he,null)))}}var Ce=Object(f.d)(Object(p.a)(e=>({contentInside:{padding:e.spacing(3),paddingTop:e.spacing(2),'& > div[class^="MuiPaper-root-"]':{boxShadow:"none",backgroundColor:"transparent"}},apiNameLink:{display:"flex",alignItems:"center","& span":{marginLeft:e.spacing(1)}}}),{withTheme:!0})(Oe));Oe.propTypes={classes:l.a.shape({}).isRequired,intl:l.a.shape({formatMessage:l.a.func.isRequired}).isRequired,isAPIProduct:l.a.bool.isRequired,theme:l.a.shape({custom:l.a.string}).isRequired,query:l.a.string},Oe.defaultProps={query:""};function Me(e){const{classes:t,isAPIProduct:a,theme:i,location:{search:r}}=e;return n.a.createElement("main",{className:t.content},n.a.createElement(Ce,{isAPIProduct:a,theme:i,query:r}))}Me.propTypes={classes:l.a.shape({content:l.a.string,contentInside:l.a.string}).isRequired,theme:l.a.shape({custom:l.a.string}).isRequired,isAPIProduct:l.a.bool.isRequired,location:l.a.shape({search:l.a.string})},Me.defaultProps={location:l.a.shape({search:""})};var De=Object(p.a)({content:{flexGrow:1}},{withTheme:!0})(Me);function xe(){return(xe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e}).apply(this,arguments)}const Re=Object(i.lazy)(()=>Promise.all([a.e(3),a.e(13),a.e(1),a.e(8)]).then(a.bind(null,3731))),Ne=e=>n.a.createElement(i.Suspense,{fallback:n.a.createElement(s.a,{per:80,message:"Loading Details component ..."})},n.a.createElement(Re,e)),Le=Object(i.lazy)(()=>Promise.all([a.e(3),a.e(1),a.e(6)]).then(a.bind(null,3735))),qe=e=>n.a.createElement(i.Suspense,{fallback:n.a.createElement(s.a,{message:"Loading API Create component ..."})},n.a.createElement(Le,e));t.default=()=>n.a.createElement(r.Switch,null,n.a.createElement(r.Route,{exact:!0,path:"/apis",key:Date.now(),render:e=>n.a.createElement(De,xe({},e,{isAPIProduct:!1}))}),n.a.createElement(r.Route,{exact:!0,path:"/api-products",key:Date.now(),render:e=>o.a.isNotPublisher()?n.a.createElement(r.Redirect,{to:"/apis"}):n.a.createElement(De,xe({},e,{isAPIProduct:!0}))}),n.a.createElement(r.Route,{path:"/apis/search",render:e=>n.a.createElement(De,xe({},e,{isAPIProduct:!1}))}),n.a.createElement(r.Route,{path:"/apis/create",component:qe}),n.a.createElement(r.Route,{path:"/api-products/create",render:()=>o.a.isNotPublisher()?n.a.createElement(r.Redirect,{to:"/apis"}):n.a.createElement(qe,null)}),n.a.createElement(r.Route,{path:"/apis/:apiUUID/",render:e=>n.a.createElement(Ne,xe({},e,{isAPIProduct:!1}))}),n.a.createElement(r.Route,{path:"/api-products/:apiProdUUID/",render:e=>o.a.isNotPublisher()?n.a.createElement(r.Redirect,{to:"/apis"}):n.a.createElement(Ne,xe({},e,{isAPIProduct:!0}))}))},614:function(e,t,a){"use strict";var i=a(517),n=a(947),r=a(16),s=a(1118);function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,i)}return a}function c(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function l(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}class p extends s.a{constructor(e,t,a){super();let n=a;e instanceof Object?n=e:(this.name=e,this.version="1.0.0",this.context=t,this.isDefaultVersion=!1,this.gatewayEnvironments=["Production and Sandbox"],this.transport=["http","https"],this.visibility="PUBLIC",this.endpointConfig={endpoint_type:"http",sandbox_endpoints:{url:""},production_endpoints:{url:""}}),this._data=n;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&(this[e]=n[e]);this.apiType=i.a.CONSTS.APIProduct,this.getType=this.getType.bind(this)}_requestMetaData(){s.a._requestMetaData()}getType(){return this.type}getSettings(){return this.client.then(e=>e.apis.Settings.get_settings()).then(e=>e.body)}getMonetization(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.client.then(t=>t.apis["API Monetization"].get_apis__apiId__monetization({apiId:e},this._requestMetaData())).then(e=>e.body)}configureMonetizationToApiProduct(e,t){return this.client.then(a=>a.apis["API Monetization"].post_apis__apiId__monetize({apiId:e,body:t}))}getSubscriptionPolicies(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.client.then(t=>t.apis.APIs.get_apis__apiId__subscription_policies({apiId:e},this._requestMetaData())).then(e=>e.body)}getMonetizationInvoice(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.client.then(t=>t.apis["API Monetization"].get_subscriptions__subscriptionId__usage({subscriptionId:e},this._requestMetaData())).then(e=>e.body)}saveProduct(){return this.client.then(e=>{const t=e.spec.definitions.APIProduct.properties,a={};Object.keys(this).forEach(e=>{e in t&&"apiType"!=e&&(a[e]=this[e])});const i={body:a,"Content-Type":"application/json"};return e.apis["API Products"].post_api_products(i,this._requestMetaData())}).then(e=>new i.a(e.body))}create(e){let t,a;return t={body:e,"Content-Type":"application/json"},a=this.client.then(e=>e.apis["API Products"].post_api_products(t,this._requestMetaData()))}toJSON(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];var a={},i=["_data","client","type"].concat(l(t));for(var n in e)i.includes(n)||(a[n]=e[n]);return a}static get(e){return(new n.a).getAPIClient(r.a.getCurrentEnvironment()).client.then(t=>t.apis["API Products"].get_api_products__apiProductId_({apiProductId:e},this._requestMetaData())).catch(e=>{console.error(e)}).then(e=>new p(e.body))}static all(e){let t="";if(e&&"query"in e){for(const[a,i]of Object.entries(e.query))t+="".concat(a,":").concat(i,",");e.query=t}return(new n.a).getAPIClient(r.a.getCurrentEnvironment()).client.then(t=>t.apis["API Products"].get_api_products(e,s.a._requestMetaData())).catch(e=>{console.error(e)}).then(e=>(e.obj.apiType=i.a.CONSTS.APIProduct,e))}update(e){const t=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(a,!0).forEach(function(t){c(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},this.toJSON(),{},this.toJSON(e));return this.client.then(e=>{const a={apiProductId:t.id,body:t};return e.apis["API Products"].put_api_products__apiProductId_(a)}).then(e=>new p(e.body))}getAPIProductThumbnail(e){return this.client.then(t=>t.apis["API Products"].get_api_products__apiProductId__thumbnail({apiProductId:e},this._requestMetaData())).catch(e=>{console.error(e)})}addAPIProductThumbnail(e,t){return this.client.then(a=>{const i={apiProductId:e,file:t,"Content-Type":t.type};return a.apis["API Products"].put_api_products__apiProductId__thumbnail(i,this._requestMetaData({"Content-Type":"multipart/form-data"}))}).catch(e=>{console.error(e)})}static delete(e){return(new n.a).getAPIClient(r.a.getCurrentEnvironment()).client.then(t=>t.apis["API Products"].delete_api_products__apiProductId_({apiProductId:e},this._requestMetaData())).catch(e=>{console.error(e)})}addDocument(e,t){return this.client.then(a=>{const i={apiProductId:e,body:t,"Content-Type":"application/json"};return a.apis["API Product Documents"].post_api_products__apiProductId__documents(i,this._requestMetaData())}).catch(e=>{console.error(e)})}getDocuments(e){return this.client.then(t=>t.apis["API Product Documents"].get_api_products__apiProductId__documents({apiProductId:e},this._requestMetaData())).catch(e=>{console.error(e)})}updateDocument(e,t,a){return this.client.then(i=>{const n={apiProductId:e,body:a,documentId:t,"Content-Type":"application/json"};return i.apis["API Product Documents"].put_api_products__apiProductId__documents__documentId_(n,this._requestMetaData()).catch(e=>{console.error(e)})})}getDocument(e,t){return this.client.then(a=>a.apis["API Product Documents"].get_api_products__apiProductId__documents__documentId_({apiProductId:e,documentId:t},this._requestMetaData())).catch(e=>{console.error(e)})}addInlineContentToDocument(e,t,a,i){return this.client.then(n=>{const r={apiProductId:e,documentId:t,sourceType:a,inlineContent:i,"Content-Type":"application/json"};return n.apis["API Product Documents"].post_api_products__apiProductId__documents__documentId__content(r,this._requestMetaData({"Content-Type":"multipart/form-data"}))}).catch(e=>{console.error(e)})}getInlineContentOfDocument(e,t){return this.client.then(a=>{const i={apiProductId:e,documentId:t};return a.apis["API Product Documents"].get_api_products__apiProductId__documents__documentId__content(i)}).catch(e=>{console.error(e)})}deleteDocument(e,t){return this.client.then(a=>a.apis["API Product Documents"].delete_api_products__apiProductId__documents__documentId_({apiProductId:e,documentId:t},this._requestMetaData())).catch(e=>{console.error(e)})}addFileToDocument(e,t,a){return this.client.then(i=>{const n={apiProductId:e,documentId:t,file:a,"Content-Type":"application/json"};return i.apis["API Product Documents"].post_api_products__apiProductId__documents__documentId__content(n,this._requestMetaData({"Content-Type":"multipart/form-data"}))})}updateSwagger(e){return this.client.then(t=>{const a={apiProductId:this.id,apiDefinition:JSON.stringify(e),"Content-Type":"multipart/form-data"};return t.apis["API Products"].put_api_products__apiProductId__swagger(a,this._requestMetaData({"Content-Type":"multipart/form-data"})).catch(e=>{console.error(e)})}).then(e=>this)}getSwagger(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.id;return this.client.then(t=>t.apis["API Products"].get_api_products__apiProductId__swagger({apiProductId:e},this._requestMetaData())).catch(e=>{console.error(e)})}}t.a=p},769:function(e,t,a){"use strict";var i=a(155);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=i(a(0)),r=(0,i(a(241)).default)(n.default.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");t.default=r},897:function(e,t,a){"use strict";a.d(t,"a",function(){return d}),a.d(t,"b",function(){return p}),a.d(t,"c",function(){return l});var i=a(0),n=a.n(i),r=a(17),s=a.n(r),o=a(1322),c=a(69);const l={APIS:"/apis",API_PRODUCTS:"/api-products",SINGLE_API:"/apis/{apiId}",SINGLE_API_PRODUCT:"/api-products/{apiProductId}",API_SWAGGER:"/apis/{apiId}/swagger",API_WSDL:"/apis/{apiId}/wsdl",API_GW_CONFIG:"/apis/{apiId}/gateway-config",API_THUMBNAIL:"/apis/{apiId}/thumbnail",API_COPY:"/apis/copy-api",API_LC_HISTORY:"/apis/{apiId}/lifecycle-history",API_CHANGE_LC:"/apis/change-lifecycle",API_LC:"/apis/{apiId}/lifecycle",API_LC_PENDING_TASK:"/apis/{apiId}/lifecycle/lifecycle-pending-task",API_DEF:"/apis/import-definition",API_VALIDATE_DEF:"/apis/validate-definition",API_DOCS:"/apis/{apiId}/documents",API_DOC:"'/apis/{apiId}/documents/{documentId}'",API_DOC_CONTENT:"'/apis/{apiId}/documents/{documentId}/content'",EXPORT_APIS:"/export/apis",IMPORT_APIS:"/import/apis",SUBSCRIPTION:"/subscriptions",SUBSCRIPTIONS:"/subscriptions",BLOCK_SUBSCRIPTION:"/subscriptions/block-subscription",UNBLOCK_SUBSCRIPTION:"/subscriptions/unblock-subscription",POLICIES:"'/policies/{tierLevel}'",POLICY:"'/policies/{tierLevel}/{tierName}'",ENDPOINTS:"/endpoints",ENDPOINT:"/endpoints/{endpointId}",LABLES:"/labels",WORKFLOW:"/workflows/{workflowReferenceId}",SERVICE_DISCOVERY:"/external-resources/services"},p={POST:"post",PUT:"put",GET:"get",DELETE:"delete"};class d extends n.a.Component{static hasScopes(e,t){const a=c.a.getUser().scopes;return o.a.getScopeForResource(e,t).then(e=>a.includes(e))}constructor(e){super(e),this.state={}}componentDidMount(){const{resourcePath:e,resourceMethod:t}=this.props;d.hasScopes(e,t).then(e=>{this.setState({haveScope:e})})}render(){const{children:e}=this.props,{haveScope:t}=this.state;return t&&e||null}}d.propTypes={children:s.a.node.isRequired,resourcePath:s.a.string.isRequired,resourceMethod:s.a.string.isRequired}}},0,[3,1,6]]);
//# sourceMappingURL=DeferredAPIs.716150ec960a60dfc2aa.bundle.js.map